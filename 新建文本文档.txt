用户填入邮箱
点击发送邮箱按钮
弹出弹窗，发送邮件需要输入图片验证码
输入发送邮箱的图片验证码
图片验证码无误后，系统向用户的邮箱发送邮箱验证码
用户接收到邮箱验证码后填入邮箱验证码
用户输入用户名、密码进行注册
注册会将邮箱验证码、用户名、密码一并发送给后台



发送邮件的接口
需要图片验证码和收件人的邮箱
图片验证码需要校验，校验不通过不发送，校验通过才允许发送邮箱，发送成功后让图片验证码失效。
收件人邮箱需要校验唯一性，因为是注册，所以邮箱需要唯一。
图片验证码和邮箱校验通过后，发送邮箱，每发送一条邮箱需要向邮箱表中插入一条记录。
邮箱表的字段为email、code、create_time、status
email：表示收件人的邮箱
code：发送给收件人的邮箱验证码
create_time：创建这条邮箱记录的时间
status：记录当前邮箱验证码的状态，0：未使用，1：已使用
create_time和status是比较关键的两个字段，create_time除了记录创建的时间外，还能计算邮箱验证码的过期时间。计算逻辑是这样的：
当前时间 - 创建时间 > 过期时间 那么验证码就是过期的，否则验证码没有过期。
而status则用来记录验证码是否已经使用，只有未使用的验证码才被认为是有效的，为什么设计这样的一个字段？因为存在这样的情况：当一个用户接收到服务器发送的邮箱验证码后，他不立即使用这个验证码，而是重新发送一个验证码，并使用这次的验证码，那么上一次发送的验证码就是无效的，因此我们需要一个字段来记录验证码的状态。
服务器每发送一条邮箱验证码，都会向邮箱表中插入一条数据，默认情况下，邮箱验证码的状态应该是未使用，即有效的，但是就像我上面说到的情况，如果用户连续让服务器发送邮箱，那么应该以最后一次发送的邮箱为准，因此我们在插入记录之前，应该先以收件人的email为条件，将表的所有的此email的status改为1，让其先失效，然后再插入一条有效的验证码，类似如下效果：
zhangsan@123.com	ausu7k	2024-01-01 01:02:03	1
zhangsan@123.com	12su9o	2024-01-01 01:02:04	1
zhangsan@123.com	1i9lku	2024-01-01 01:02:05	0
用户连续让服务器发送了3个邮箱，最终在表中插入了3条记录，但是有效的只有最后发送的，也就是2024-01-01 01:02:05这个时间点的验证码。

注册的接口
注册需要用户名、密码、邮箱验证码、图片验证码这些参数
用户名需要校验唯一性(校验与否视情况而定)
校验邮箱验证码从邮箱表中取出验证码，因为发送邮箱时已将生成的邮箱验证码存入到了数据库中，以用户输入的邮箱和邮箱验证码为条件查出邮箱记录
如果查出的数据为null，说明用户输入的邮箱验证码是错误的，直接验证失败。
如果查出了一条记录，至少能证明验证码输入正确，但是还要进一步判断：
只有这条记录的status为0且未过期，这个邮箱验证码才是有效的，验证才算成功。
校验图片验证码，从session中取出图片验证码，与用户输入的对比
校验成功后，对密码进行md5加密。
然后组装用户的信息，这个过程中可以对用户进行一些配置的操作，这个后续再扩展。
用户信息组装完成，将用户信息存入用户信息表中。
然后将邮箱表中邮箱验证码设为失效，注册成功后，图片验证码也得失效(从session中清除)

邮箱授权码：ogtefszgsvrbdehb